<!doctype html>

<head>
</head>

<body>

<script>

        var movieList = [
          'The Shawshank Redemption,1994,1043071',
          'The Godfather,1972,732416',
          'The Godfather: Part II,1974,474640',
          'Pulp Fiction,1994,806431',
          'The Dark Knight,2008,1017508',
          '12 Angry Men,1957,255846',
          'Schindler\'s List,1993,528900',
          'The Lord of the Rings: The Return of the King,2003,738931',
          'Fight Club,1999,791186',
          'Star Wars: Episode V - The Empire Strikes Back,1980,503348'
        ];

        var movieObjects =[];

        // splits the movie list values into name, year and votes
        // takes an array of strings containing values delimited by commas
        // returns array of movie objects sorted by year

        function parseMovies(movies, parsed) {
          if(typeof(movies)==='undefined') {
            movies = movieList;
          }
          if(typeof(parsed)==='undefined') {
            parsed = movieObjects;
          }
         for (var i = 0; i < movies.length; i++) {
            var splitMovie = movies[i].split(',');
            console.log(splitMovie); // debug focus on split(',') output
            parsed.push({
              name: splitMovie[0],
              year: splitMovie[1],
              votes: splitMovie[2]
            });
          }
          return parsed.sort(sortFunction);
        }

        function sortFunction(a,b) {
          return a.year - b.year;
        }
        
        // generates validation output

        function validationOutput(movieObjects) {
          for (var j = 0; j < movieObjects.length; j++) {
              var movie = movieObjects[j];
              document.write("{ name: '" + movie.name + "', year: " + movie.year + ", votes: " + movie.votes + " }, <br/>");
            }
          }



console.log(parseMovies(movieList));
</script>

</body>
</html>